<%= stylesheet_link_tag 'main', media: 'all' %>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css"/>
<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>


<script>
$(document).ready(function(){
  $(".centerDiv").hide();
  $(".button2").click(function(){
    $(".junk").fadeOut("slow");
    $(".centerDiv").fadeIn("slow");
  });
});
</script>






<body >
<!-- Posted by artist bottom right -->

  <% if !session[:user_id] %>
  <%= stylesheet_link_tag "sessions", :media => "all" %>

    <script>document.body.className += ' fade-out';</script>

  <script>
    


    $(function() {
        $('body').removeClass('fade-out');
    });



    
  </script>

  <style type="text/css">
    html {
      background-color: black;
    }
    body {
      opacity: 1;
      transition: 1s opacity;
      visibility: visible;
    }
    body.fade-out {
        opacity: 0;
        transition: none;
    } 


  </style>



  <%= javascript_include_tag( 'jquery.pagepiling.js' ) %>
  <%= javascript_include_tag( 'jquery.pagepiling.min.js' ) %>
  <%= stylesheet_link_tag 'jquery.pagepiling.css' %>

  <script type="text/javascript">
      $(document).ready(function() {
        if (window.innerWidth > 776) {
          $('#pagepiling').pagepiling();
        }
        else{

        }
        
      });
  </script>

  <style>
    {
      margin-top: 0px !important;
      margin-bottom: 0px !important;
    }


    .topNav{
      display: none;
    }



    .slide1 {

            background-size: cover;
          animation:fade 30s infinite;
      -webkit-animation:fade 30s infinite;

      } 



    .slide2 {
      background: url('<%= asset_path 'front2.jpg' %>')no-repeat center;
          background-size: cover;
        animation:fade2 30s infinite;
    -webkit-animation:fade2 30s infinite;
    }
    .slide3 {
        background: url('<%= asset_path 'front3.jpg' %>')no-repeat center;
          background-size: cover;
        animation:fade3 30s infinite;
    -webkit-animation:fade3 30s infinite;
    }

      #pagepiling{
        display: block !important;
      }

      .simple{
        display: none !important;
      }

    @media screen and (max-width: 776px){
      .bottomNav{
        display: none;
      }

      #pagepiling{
        display: none !important;
      }

      .simple{
        display: block !important;
      }
    }

  </style>

      
  <%= render "landingPage" %>



  <% end %>







  <% if session[:user_id] %>




<div style="margin-top: 60px;">
  <div class="container">
    <div class="titleSec">People Near You</div>
  </div>


  <div class="complete">
    <%= render "people" %>
  </div>

</div>




<div style="margin-top: 20px;">
  <div class="container">
    <div class="titleSec">Events Near You</div>
  </div>


  <div class="complete">
    <%= render "events" %>
  </div>



</div>



<div style="margin-top: 20px; padding-bottom: 50px;">
  <div class="container">
    <div class="titleSec">Groups to join</div>
  </div>

  <div class="complete">
    <%= render "groups" %>
  </div>



</div>












  <div class="modal fade displayModals" id="postModal" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">


        <div id="modalPostImage"></div>

        <div class="modal-body">
          <div id="modalPostBody"></div>
        </div>
  

        <div class="modal-footer">

 
        <span id="groupImgM" class="userImageModal"></span>
     
        <span id="eventImgM" class="userImageModal"></span>
   
        <span id="userImgM" class="userImageModal"></span>
 
        
        



          <span class="modal-title" id="modalPoster"></span>
          <span class="modal-title" id="modalPosterGroup"></span>
          <span class="modal-title" id="modalPosterEvent"></span>
   

          <span class="modal-title">on</span>






          <span class="modal-title" id="modalPostTime"></span>





        </div>




      </div>
    </div>
  </div>




</body>


  <script>



    $('#postModal').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget);



        var posterName = button.data('poster');
        var posterGroup = button.data('postergroup');
        var posterEvent = button.data('posterevent');
        var classType = button.data('class');
        var postBody = button.data('body');
        var postTime = button.data('time');


        if (button.data("image") !== undefined) {
            var imageURL = button.data("image");
            $("#modalPostImage").html("<img src=" + imageURL + ">");
        }




        if (classType == "GroupPost"){
          if (button.data("groupimage") !== undefined) {
            var userImageURL = button.data("groupimage");
            $("#groupImgM").html("<img src=" + userImageURL + ">");
            $("#groupImgM").css({"display": "inline-block"});
            $("#eventImgM").css({"display": "none"})
            $("#userImgM").css({"display": "none"});
          }

        }



        if (classType == "EventPost"){
          if (button.data("eventimage") !== undefined) {
            var eventImageURL = button.data("eventimage");
            $("#eventImgM").html("<img src=" + eventImageURL + ">");
            $("#eventImgM").css({"display": "inline-block"});
            $("#groupImgM").css({"display": "none"});
            $("#userImgM").css({"display": "none"});
          }
        }



        if (classType == "Post"){
          if (button.data("userimage") !== undefined) {
              var userImageURL = button.data("userimage");
              $("#userImgM").html("<img src=" + userImageURL + ">");
              $("#userImgM").css({"display": "inline-block"});
              $("#groupImgM").css({"display": "none"});
              $("#eventImgM").css({"display": "none"});
          }
        }




        var modal = $(this);
        $("#modalClass").text(classType);


        if (classType == "GroupPost"){
          $("#modalPosterGroup").text(posterGroup);
          $("#modalPosterGroup").css({"display": "inline-block"});
          $("#modalPoster").css({"display": "none"});
          $("#modalPosterEvent").css({"display": "none"});
        }

        if (classType == "Post"){
          $("#modalPoster").text(posterName);
          $("#modalPoster").css({"display": "inline-block"});
          $("#modalPosterGroup").css({"display": "none"});
          $("#modalPosterEvent").css({"display": "none"});
        }
        
        if (classType == "EventPost"){
          $("#modalPosterEvent").text(posterEvent);
          $("#modalPosterEvent").css({"display": "inline-block"});
          $("#modalPoster").css({"display": "none"});
          $("#modalPosterGroup").css({"display": "none"});
        }
        



        $("#modalPostBody").text(postBody);
        $("#modalPostTime").text(postTime);
    })




  </script>


<% end %>   


<script>
jQuery(window).on('load', function(){ var $ = jQuery;
      var elem = document.querySelector('.grid');
      var msnry = new Masonry(elem, {
          // options
          columnWidth: '.grid-sizer',
          itemSelector: '.grid-item',
          percentPosition: true,
          gutter: 10,
          horizontalOrder: true,
          stagger: 30
      });
});
</script>




















