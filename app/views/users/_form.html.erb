<%= stylesheet_link_tag "users", :media => "all" %>

<body onload="getLocation()">
<%= form_for(user) do |f| %>
  <% if user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(user.errors.count, "error") %> prohibited this user from being saved:</h2>

      <ul>
      <% user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>





<% if action_name == 'edit' or action_name == 'update' or action_name == "avatar" %>





 <div class="col-md-12 col-xs-12 noPad3">

  <div class="field fileField col-xs-6 noPad3 ">
    <label class="btn btn-primary fileBtnDiv">
      <%= f.file_field :avatar, class: "fileBtn form-control", id: "avatarImageUpload" %>
      Profile Photo
    </label>
  </div>

  <div class="field fileField col-xs-6 noPad3">
    <label class="btn btn-primary fileBtnDiv">
      <%= f.file_field :image, class: "fileBtn form-control", id: "coverImageUpload" %> 
      Cover Photo
    </label>
  </div>


</div>



<% end %>


<div class="col-md-12 col-xs-12 noPad3">


  <div class="field col-md-6 noPad3">
    <div class="labelSide">
      First Name
    </div>
    <%= f.text_field :name, class: "form-control", placeholder: "First name", id: "text_field" %>
  </div>



  <div class="field col-md-6 noPad3">
    <div class="labelSide">
      Last Name
    </div>
    <%= f.text_field :last_name, class: "form-control", placeholder: "Last name" %>
  </div>




  <div class="field field col-xs-12 noPad3">
    <div class="labelSide">
      <%= f.label :email %>
    </div>
    <%= f.text_field :email, class: "form-control", placeholder: "Email" %>
  </div>


<% if action_name == 'edit' or action_name == 'update' or action_name == "avatar" %>

<div class="field field col-xs-12 noPad3">
  <div class="labelSide">
    <%= f.label :bio %>
  </div>
    <%= f.text_field :bio, class: "form-control", placeholder: "Describe yourself." %>
</div>
<% end %>
  <div class="field">
    <%= f.hidden_field :latitude, class: "form-control", id: "latField" %>
  </div>


  <div class="field">
    <%= f.hidden_field :longitude, class: "form-control", id: "lonField"  %>
  </div>

</div>

  <div class="col-md-12 col-xs-12 noPad3" style="margin-bottom: 100px;">
    <div class="titleSec">Where are you from?</div>
    <div class="field fileField col-md-12 col-xs-12 noPad3">
      <%= f.country_select :country %>
    </div>
  </div>



<% if action_name == 'new' or action_name == 'create' %>
  <div class="field">
    <%= f.password_field :password, class: "form-control", placeholder: "Password" %>
  </div>

  <div class="field">
    <%= f.password_field :password_confirmation, class: "form-control", placeholder: "Confirm Password" %>
  </div>

<% end %>




  <br />
<% if action_name == 'new' or action_name == 'create' %>
  <div class="text-center loginSec col-xs-12">
        <%= f.submit "Confirm", class: "fileBtnSubmitSign", id: "submitButtonId" %>
    </div>
<% end %>




<% if action_name == 'edit' or action_name == 'update' or action_name == "avatar" %>
  
    <div class="fixedState">
      <%= f.button "Confirm", class: "fileBtnSubmit", data: {disable_with: "<i class='fa fa-circle-o-notch fa-spin'></i> Building..."} %>
    </div>

<% end %>




  








<% end %>




<script>





  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(getLat);
      navigator.geolocation.getCurrentPosition(getLon);
    } else {
      x.innerHTML = "Geolocation is not supported by this browser.";
    }
  }


  function getLat(position) {
    var lat = position.coords.latitude;

    $(document).ready(function () {
      $("#latField").val(lat);
    })
  }


  function getLon(position) {
    var lon = position.coords.longitude;

    $(document).ready(function () {
      $("#lonField").val(lon);
    })
  }










</script>



</body>